"use strict";
const { domSymbolTree } = require("./internal-constants");
<<<<<<< HEAD
const { TEXT_NODE } = require("../node-type");

=======
<<<<<<< HEAD
<<<<<<< HEAD
const { TEXT_NODE } = require("../node-type");

=======
const { CDATA_SECTION_NODE, TEXT_NODE } = require("../node-type");

//
// https://dom.spec.whatwg.org/#concept-child-text-content
//
>>>>>>> 782567c486993431d88a7d42ed2c18702ecdfd4f
=======
const { TEXT_NODE } = require("../node-type");

>>>>>>> b9690f13ae0b02552662ffbd680e2069f9283c9e
>>>>>>> 71cc80d5c04c1d732a53d72b3d4830571f913b17
exports.childTextContent = node => {
  let result = "";
  const iterator = domSymbolTree.childrenIterator(node);
  for (const child of iterator) {
<<<<<<< HEAD
    if (child.nodeType === TEXT_NODE) {
=======
<<<<<<< HEAD
<<<<<<< HEAD
    if (child.nodeType === TEXT_NODE) {
=======
    if (child.nodeType === TEXT_NODE ||
        // The CDataSection extends Text.
        child.nodeType === CDATA_SECTION_NODE) {
>>>>>>> 782567c486993431d88a7d42ed2c18702ecdfd4f
=======
    if (child.nodeType === TEXT_NODE) {
>>>>>>> b9690f13ae0b02552662ffbd680e2069f9283c9e
>>>>>>> 71cc80d5c04c1d732a53d72b3d4830571f913b17
      result += child.data;
    }
  }
  return result;
};
