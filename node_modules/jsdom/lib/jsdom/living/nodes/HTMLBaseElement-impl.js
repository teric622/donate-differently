"use strict";
const whatwgURL = require("whatwg-url");
const HTMLElementImpl = require("./HTMLElement-impl").implementation;
const { fallbackBaseURL } = require("../helpers/document-base-url");

class HTMLBaseElementImpl extends HTMLElementImpl {
  get href() {
    const document = this._ownerDocument;

<<<<<<< HEAD
    const url = this.hasAttribute("href") ? this.getAttribute("href") : "";
=======
<<<<<<< HEAD
<<<<<<< HEAD
    const url = this.hasAttribute("href") ? this.getAttribute("href") : "";
=======
    const url = this.hasAttributeNS(null, "href") ? this.getAttributeNS(null, "href") : "";
>>>>>>> 782567c486993431d88a7d42ed2c18702ecdfd4f
=======
    const url = this.hasAttribute("href") ? this.getAttribute("href") : "";
>>>>>>> b9690f13ae0b02552662ffbd680e2069f9283c9e
>>>>>>> 71cc80d5c04c1d732a53d72b3d4830571f913b17
    const parsed = whatwgURL.parseURL(url, { baseURL: fallbackBaseURL(document) });

    if (parsed === null) {
      return url;
    }

    return whatwgURL.serializeURL(parsed);
  }

  set href(value) {
<<<<<<< HEAD
    this.setAttribute("href", value);
=======
<<<<<<< HEAD
<<<<<<< HEAD
    this.setAttribute("href", value);
=======
    this.setAttributeNS(null, "href", value);
>>>>>>> 782567c486993431d88a7d42ed2c18702ecdfd4f
=======
    this.setAttribute("href", value);
>>>>>>> b9690f13ae0b02552662ffbd680e2069f9283c9e
>>>>>>> 71cc80d5c04c1d732a53d72b3d4830571f913b17
  }
}

module.exports = {
  implementation: HTMLBaseElementImpl
};
